---
import { Image } from "astro:assets";
import type { IGenre, IMovieInfo } from "../types";

interface Props {
	movie: IMovieInfo;
}

const { movie } = Astro.props;
---

<div class="flex gap-20 w-full sm:mt-7 lg:mt-12">
	<Image
		src={import.meta.env.PUBLIC_IMAGES_BASE_URL + movie?.poster_path}
		alt={`Poster of ${movie?.title}`}
		width={288}
		height={288}
		class="hidden lg:block"
		transition:name={`img-${movie.id}`}
	/>
	<div class="lg:w-[50%] flex flex-col items-center xl:block">
		<h1 class="text-4xl font-bold mb-2 text-center lg:text-left" transition:name={`title-${movie.id}`}>
			{movie?.title}
		</h1>
		<p class="italic mb-8 text-gray-500">{movie?.tagline}</p>

		<Image
			src={import.meta.env.PUBLIC_IMAGES_BASE_URL + movie?.poster_path}
			alt={`Poster of ${movie?.title}`}
			width={288}
			height={288}
			class="lg:hidden"
			transition:name={`img-${movie.id}`}
		/>

		<div class="my-6 flex flex-wrap" transition:name={`genres-${movie.id}`}>
			{
				movie?.genres.map((genre: IGenre) => (
					<span class="bg-gray-200 text-gray-700 px-2 py-1 rounded-xl text-sm mr-2">
						{genre.name}
					</span>
				))
			}
		</div>

		<p class="text-gray-500 text-sm">
			<span class="font-bold">Release date:</span>
			{movie?.release_date}
		</p>
		<p class="text-gray-500 text-sm">
			<span class="font-bold">Duration:</span>
			{movie?.runtime} min
		</p>
		<p class="text-gray-500 text-sm">
			<span class="font-bold">Rating:</span>
			{movie?.vote_average} / 10
		</p>
		<p class="mt-10 mx-5 sm:mx-0">{movie?.overview}</p>
	</div>
</div>
